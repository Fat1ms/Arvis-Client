# Changelog - Arvis AI Assistant

–í—Å–µ –≤–∞–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ Arvis –±—É–¥—É—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ.

–§–æ—Ä–º–∞—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
–∏ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è [Semantic Versioning](https://semver.org/lang/ru/).

---

## [Unreleased] - Phase 3 Feature #1: Multi-Engine TTS System

### Added (21.10.2025)
- üé§ **Multi-Engine TTS System**: Factory pattern –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ TTS –¥–≤–∏–∂–∫–∞–º–∏
  - `modules/tts_factory.py`: Singleton —Ñ–∞–±—Ä–∏–∫–∞ —Å –∞–≤—Ç–æ-—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π
  - `modules/tts_base.py`: –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤—Å–µ—Ö TTS –¥–≤–∏–∂–∫–æ–≤
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 3 –¥–≤–∏–∂–∫–æ–≤: Silero (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), Bark, SAPI5

- üîÑ **Runtime Engine Switching**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ TTS –¥–≤–∏–∂–∫–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
  - –ú–µ—Ç–æ–¥ `ArvisCore.switch_tts_engine_async()` –¥–ª—è —Å–º–µ–Ω—ã –¥–≤–∏–∂–∫–∞
  - Qt —Å–∏–≥–Ω–∞–ª `tts_engine_switched` –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–º–µ–Ω–µ
  - Health check –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º

- üåê **Server Negotiation Placeholder**: –ó–∞–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è –≥–∏–±—Ä–∏–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
  - –ú–µ—Ç–æ–¥ `_negotiate_engine_with_server()` –≤ ArvisCore
  - –ì–æ—Ç–æ–≤–æ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Arvis-Server (Phase 3 Feature #2)

- ‚öôÔ∏è **Enhanced Configuration**: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TTS
  - –°–µ–∫—Ü–∏—è `tts.engines` –≤ config.json —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–≤–∏–∂–∫–∞
  - –ú–µ—Ç–æ–¥—ã `Config.get_enabled_tts_engines()` –∏ `get_tts_engine_config()`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `default_engine`, `fallback_on_error`, `health_check_interval`

- üß™ **Comprehensive Testing**: 78 —Ç–µ—Å—Ç–æ–≤ (64 unit + 14 integration)
  - –ù–æ–≤—ã–π —Ñ–∞–π–ª: `tests/integration/test_arviscore_tts_integration.py` (14 —Ç–µ—Å—Ç–æ–≤)
  - 100% —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
  - –ü–æ–∫—Ä—ã—Ç–∏–µ: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∞–±—Ä–∏–∫–∏, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –¥–≤–∏–∂–∫–æ–≤, —Å–∏–≥–Ω–∞–ª—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- üîß **TTS Engine Implementations**:
  - `modules/tts_silero.py`: Silero TTS –¥–≤–∏–∂–æ–∫ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
  - `modules/tts_bark.py`: Bark TTS —Å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –≥–æ–ª–æ—Å–æ–º
  - `modules/tts_sapi5.py`: Windows SAPI5 –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### Changed (21.10.2025)
- üèóÔ∏è **ArvisCore Refactoring**: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ factory pattern
  - –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω `src/core/arvis_core.py` (1873 ‚Üí 1901 —Å—Ç—Ä–æ–∫)
  - TTS –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å —á–µ—Ä–µ–∑ `_create_tts_engine_with_fallback()`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `_tts_factory`, `_tts_engine_type`, `_available_tts_engines`
  - 4 –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è TTS –¥–≤–∏–∂–∫–∞–º–∏

- üìã **Configuration Management**: –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
  - `config/config.py`: –î–æ–±–∞–≤–ª–µ–Ω—ã helper –º–µ—Ç–æ–¥—ã –¥–ª—è TTS
  - `config/config.json`: –†–∞—Å—à–∏—Ä–µ–Ω–∞ —Å–µ–∫—Ü–∏—è `tts` —Å –ø–æ–¥—Å–µ–∫—Ü–∏–µ–π `engines`

### Performance (21.10.2025)
- ‚ö° **Factory Overhead**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π (<1ms –¥–ª—è singleton)
- ‚ö° **Health Checks**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ, –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ (~50-100ms)
- ‚ö° **Engine Switching**: <2 —Å–µ–∫—É–Ω–¥ (–≤–∫–ª—é—á–∞—è cleanup + init)
- üíæ **Memory**: –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–π –¥–≤–∏–∂–æ–∫ –≤ –ø–∞–º—è—Ç–∏

### Testing (21.10.2025)
- ‚úÖ **78/78 —Ç–µ—Å—Ç–æ–≤** –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ù–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤: ~4 —Å–µ–∫—É–Ω–¥—ã

### Known Issues (21.10.2025)
- ‚ö†Ô∏è 11 pytest warnings (asyncio marker –Ω–∞ sync —Ñ—É–Ω–∫—Ü–∏—è—Ö) - –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–µ
- ‚ö†Ô∏è `test_gemma_provider.py` –∏—Å–∫–ª—é—á—ë–Ω –∏–∑ –∑–∞–ø—É—Å–∫–∞ (syntax error, –Ω–µ —Å–≤—è–∑–∞–Ω —Å TTS)
- ‚ö†Ô∏è Vosk –º–æ–¥–µ–ª—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (STT —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–∫–∏)

### Documentation (21.10.2025)
- üìö –°–æ–∑–¥–∞–Ω `docs/PHASE3_FEATURE1_DAYS4-5_REPORT.md` —Å –ø–æ–ª–Ω—ã–º –æ—Ç—á—ë—Ç–æ–º
- üìö TODO: –û–±–Ω–æ–≤–∏—Ç—å README.md —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ multi-engine TTS
- üìö TODO: –°–æ–∑–¥–∞—Ç—å `docs/TTS_ENGINE_GUIDE.md` –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

---

## [1.5.1] - 2025-10-XX

### Added
- üîê Client API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (`utils/security/client_api.py`)
- üîÑ –ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Client API ‚Üí Admin API ‚Üí Local fallback)
- üìä Audit logging –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### Changed
- üîß –ü–µ—Ä–µ—Ö–æ–¥ —Å Admin API –Ω–∞ Client API –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- üîê –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ JWT —Ç–æ–∫–µ–Ω–æ–≤

### Fixed
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ Arvis-Server
- üêõ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## [1.5.0] - 2025-10-XX

### Added
- üéôÔ∏è –ì–æ–ª–æ—Å–æ–≤–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è —á–µ—Ä–µ–∑ wake word ("–ê—Ä–≤–∏—Å", "Jarvis")
- üîä Kaldi wake word detector –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
- ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ollama –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ LLM
- üó£Ô∏è Silero TTS –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏
- üé§ Vosk STT –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
- üîê RBAC —Å–∏—Å—Ç–µ–º–∞ —Å —Ä–æ–ª—è–º–∏ (Guest, User, Power User, Admin)
- üîí 2FA –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (TOTP + backup –∫–æ–¥—ã)
- üìä Audit logging –≤ JSON Lines —Ñ–æ—Ä–º–∞—Ç
- üåê –ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Remote Server + Local fallback)
- üé® PyQt5 GUI —Å –±–µ–∑—Ä–∞–º–æ—á–Ω—ã–º –æ–∫–Ω–æ–º
- üí¨ –ß–∞—Ç-–ø–∞–Ω–µ–ª—å —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
- üì¶ –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (Weather, News, System Control, Calendar, Search)

### Changed
- üèóÔ∏è –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –Ω–∞ PyQt5
- üîÑ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- üìù –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### Security
- üîê Bcrypt –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
- üîë JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- üõ°Ô∏è RBAC –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- üìä –ü–æ–ª–Ω—ã–π audit trail –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## [1.0.0] - 2025-09-XX

### Added
- üéâ –ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑ Arvis AI Assistant
- üí¨ –ë–∞–∑–æ–≤—ã–π —á–∞—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI API
- üîä –ü—Ä–æ—Å—Ç–æ–π TTS —á–µ—Ä–µ–∑ pyttsx3
- üé§ –ü—Ä–æ—Å—Ç–æ–π STT —á–µ—Ä–µ–∑ speech_recognition

---

## –¢–∏–ø—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

- `Added` - –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `Changed` - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ
- `Deprecated` - —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–∫–æ—Ä–æ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã
- `Removed` - —É–¥–∞–ª—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `Fixed` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
- `Security` - –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `Performance` - —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `Testing` - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–µ—Å—Ç–∞—Ö
- `Documentation` - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 21.10.2025
